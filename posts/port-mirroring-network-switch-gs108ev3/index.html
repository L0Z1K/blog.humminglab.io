<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Port Mirroring 기능 지원 저렴한 스위치 - GS108Ev3 - All about IoT</title><meta name=Description content><meta property="og:title" content="Port Mirroring 기능 지원 저렴한 스위치 - GS108Ev3"><meta property="og:description" content="네트워크 프로토콜을 개발 하다보면 Wireshark 등으로 패킷을 캡쳐하여 분석할 일이 종종 생긴다. Linux 장치라면 tcpdump나 wireshark을 실행해서 직접 패킷 캡쳐가 가능하지만, 그렇지 않은 경우에는 Network TAP 이나 이더넷 스위치의 port mirroring 기능을 사용하여서 패킷을 캡쳐하여야 한다. Amazon 등에서 검색해보면 Network Tap 도 $200~300 정도로 비싼 편이고, 포트 미러링와 유사한 기능도 고급 스위치에서만 지원된다.
찾다 보니 Netgear GS108Ev3(8포트), GS105Ev2(5포트) 가 가격도 5~8만원 정도로 비싸지 않고, 포트 미러링 기능이 지원되어 소개한다.
외관은 금속으로 되어 있어 크기에 비하여 무게가 묵직하게 나간다."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.humminglab.io/posts/port-mirroring-network-switch-gs108ev3/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-19T10:00:00+09:00"><meta property="article:modified_time" content="2022-01-19T10:00:00+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Port Mirroring 기능 지원 저렴한 스위치 - GS108Ev3"><meta name=twitter:description content="네트워크 프로토콜을 개발 하다보면 Wireshark 등으로 패킷을 캡쳐하여 분석할 일이 종종 생긴다. Linux 장치라면 tcpdump나 wireshark을 실행해서 직접 패킷 캡쳐가 가능하지만, 그렇지 않은 경우에는 Network TAP 이나 이더넷 스위치의 port mirroring 기능을 사용하여서 패킷을 캡쳐하여야 한다. Amazon 등에서 검색해보면 Network Tap 도 $200~300 정도로 비싼 편이고, 포트 미러링와 유사한 기능도 고급 스위치에서만 지원된다.
찾다 보니 Netgear GS108Ev3(8포트), GS105Ev2(5포트) 가 가격도 5~8만원 정도로 비싸지 않고, 포트 미러링 기능이 지원되어 소개한다.
외관은 금속으로 되어 있어 크기에 비하여 무게가 묵직하게 나간다."><meta name=application-name content="All about IoT"><meta name=apple-mobile-web-app-title content="All about IoT"><meta name=theme-color content="#f8f8f8"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=https://blog.humminglab.io/posts/port-mirroring-network-switch-gs108ev3/><link rel=prev href=https://blog.humminglab.io/posts/yocto-project-on-orange-pi-3/><link rel=next href=https://blog.humminglab.io/posts/yocto-ostree-meta-updater-1/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/color.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Port Mirroring 기능 지원 저렴한 스위치 - GS108Ev3","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.humminglab.io\/posts\/port-mirroring-network-switch-gs108ev3\/"},"genre":"posts","keywords":"Network, Wireshark, Port Mirroring, Netgear","wordcount":344,"url":"https:\/\/blog.humminglab.io\/posts\/port-mirroring-network-switch-gs108ev3\/","datePublished":"2022-01-19T10:00:00+09:00","dateModified":"2022-01-19T10:00:00+09:00","publisher":{"@type":"Organization","name":"HummingLab"},"authors":[{"@type":"Person","name":"YSLee"}],"description":""}</script><script src=//instant.page/5.1.1 defer type=module integrity=sha384-MWfCL6g1OTGsbSwfuMHc8+8J2u71/LA8dzlIN3ycajckxuZZmF+DNjdm7O6H3PSq></script></head><body header-desktop header-mobile><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),window.theme=e}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else""==="light"||""==="dark"||""==="black"?(setTheme(""),saveTheme("")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="All about IoT">All about IoT</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=https://www.humminglab.io/ rel="noopener noreferrer" target=_blank>HummingLab </a><span class="menu-item delimiter"></span><a href=# class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="All about IoT">All about IoT</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=https://www.humminglab.io/ title rel="noopener noreferrer" target=_blank>HummingLab</a><a href=# class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#정리>정리</a></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle","normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Port Mirroring 기능 지원 저렴한 스위치 - GS108Ev3</h1><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="author fas fa-user-circle fa-fw"></i><span class=screen-reader-text> </span><a href=https://blog.humminglab.io/authors/yslee>YSLee</a></span>
</span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=/categories/development/><i class="far fa-folder fa-fw"></i>Development</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-01-19>2022-01-19</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2022-01-19>2022-01-19</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;344 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#정리>정리</a></li></ul></nav></div></div><div class=content id=content><p>네트워크 프로토콜을 개발 하다보면 Wireshark 등으로 패킷을 캡쳐하여 분석할 일이 종종 생긴다.
Linux 장치라면 tcpdump나 wireshark을 실행해서 직접 패킷 캡쳐가 가능하지만, 그렇지 않은 경우에는 Network TAP 이나 이더넷 스위치의 port mirroring 기능을 사용하여서 패킷을 캡쳐하여야 한다.
Amazon 등에서 검색해보면 Network Tap 도 $200~300 정도로 비싼 편이고, 포트 미러링와 유사한 기능도 고급 스위치에서만 지원된다.</p><p>찾다 보니 Netgear <a href=https://www.netgear.com/business/wired/switches/plus/gs108e/ target=_blank rel="noopener noreferrer">GS108Ev3</a>(8포트), <a href=https://www.netgear.com/business/wired/switches/plus/gs105ev2/ target=_blank rel="noopener noreferrer">GS105Ev2</a>(5포트) 가 가격도 5~8만원 정도로 비싸지 않고, 포트 미러링 기능이 지원되어 소개한다.</p><p>외관은 금속으로 되어 있어 크기에 비하여 무게가 묵직하게 나간다.</p><figure><img src=GS108E_productcarousel_hero_image_tcm148-109960.png alt=GS108Ev3 width=600px height=auto><figcaption><p>GS108Ev3</p></figcaption></figure><p>구매한 제품은 GS108Ev3 이다. 중간에 숫자 &lsquo;8&rsquo;은 포트 개수를 말하고, &lsquo;E&rsquo;는 Enhanced Features 의미로 이 enhanced 기능 중 하나가 포트 미러링이다. &lsquo;v3&rsquo;는 버전 의미로 8포트만 v3이고 5포트는 v2이다.</p><p><a href=https://kb.netgear.com/25093/GS108Ev3-FAQs target=_blank rel="noopener noreferrer">GS108Ev3 FAQs</a>를 보면 v3 에서 아래 처럼 해당 웹브라우저에서 관리를 할 수 있다는 데 무슨 의미인지 잘 모르겠다. v3 의미는 하드웨어 일텐데&mldr; 가능한 최신 버전일것 같아 GS108Ev3 를 구매하여 사용중이다.</p><blockquote><p>Compare to v2, is there any new feature for GS108Ev3?</p><p>Yes, staring from v3, GS108E can be managed by web browser IE9 ~ 11, Firefox 26 ~ 29.0.1, Chrome 33.0.1750.117 ~ 35.0.1916.114 m, Safari 10.8.5.</p></blockquote><p>제품은 아래처럼 Gigabit 을 지원한다.</p><figure><img src=gs108ev3-port-status.png alt="지원 포트" width=800px height=auto><figcaption><p>지원 포트</p></figcaption></figure><p>포트 미러링 설정을 보면 아래와 같이 원하는 source ports 를 destination port로 미러링 설정을 할 수 있다. 이와 같이 설정하면 포트 7, 8번으로 송수신되는 모든 트래픽은 포트 1번으로도 출력이 되어 해당 패킷을 1번 포트에서 캡쳐할 수 있다.</p><figure><img src=gs108ev3-port-mirroring.png alt="포트 미러링 설정" width=800px height=auto><figcaption><p>포트 미러링 설정</p></figcaption></figure><h2 id=정리 class=headerLink><a href=#%ec%a0%95%eb%a6%ac class=header-mark></a>정리</h2><p>마땅한 장비가 없을때는 ipTime 공유기의 포트미러링을 사용했었다.
이 기능은 외부포트를 내부포트로 미러링 해주는 기능이라 외부로 나가는 패킷은 캡쳐할 수 있지만 LAN 상의 패킷은 캡쳐를 하지 못한다.</p><p>하지만 이 Netgear 스위치를 이용하면 원하는 포트의 패킷을 쉽게 캡쳐할 수 있어, 다음처럼 유선, 무선 모두 캡쳐 할 수 있는 환경을 구축하여 사용 중이다.</p><figure><img src=network.png alt="개발용 네트워크 구성도" width=600px height=auto><figcaption><p>개발용 네트워크 구성도</p></figcaption></figure><ul><li>IPTime 유무선 공유기를 hub mode로 설정하여(AP only) 무선랜 시험용으로 사용</li><li>GS108Ev3 스위치에 AP와 유선으로 시험용 기기를 연결하여 Macbook 으로 포트 미러링</li><li>Macbook에는 USB ethernet 2개를 사용<ul><li>Ethernet 1: 일반 인터넷 사용</li><li>Etehrnet 2: GS108Ev3 에 연결하여 ethernet packet 캡쳐 전용</li><li>내장 무선랜: IEEE 802.11 무선랜 패킷 캡쳐 및 무선랜 시험용</li></ul></li></ul><p>이와 같이하여 유선, 무선랜 IEEE 802.11 raw packet, 무선랜의 IP layer packet 과 같이 필요에 따라 적절한 방법으로 캡쳐할 수 있도록 하였다.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-01-19</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/network/>Network</a>,&nbsp;<a href=/tags/wireshark/>Wireshark</a>,&nbsp;<a href=/tags/port-mirroring/>Port Mirroring</a>,&nbsp;<a href=/tags/netgear/>Netgear</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/yocto-project-on-orange-pi-3/ class=prev rel=prev title="Yocto Project 개발하기(3) - 개발 시 로컬 패키지 관리하기"><i class="fas fa-angle-left fa-fw"></i>Yocto Project 개발하기(3) - 개발 시 로컬 패키지 관리하기</a>
<a href=/posts/yocto-ostree-meta-updater-1/ class=next rel=next title="Yocto에 OSTree upgrade 적용(1) - 이미지 생성">Yocto에 OSTree upgrade 적용(1) - 이미지 생성<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=giscus></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/>giscus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://www.humminglab.io target=_blank rel="noopener noreferrer">HummingLab</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{giscus:{darkTheme:"dark",dataCategory:"Announcements",dataCategoryId:"DIC_kwDOGdk00s4CAGXN",dataEmitMetadata:"0",dataInputPosition:"bottom",dataLang:"en",dataMapping:"pathname",dataReactionsEnabled:"1",dataRepo:"humminglab/blog.humminglab.io",dataRepoId:"R_kgDOGdk00g",dataStrict:"0",lightTheme:"light"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1}}</script><script type=text/javascript src=/js/giscus.min.js defer></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/js/katex.min.js defer></script><script type=text/javascript src=/js/theme.min.js defer></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-83257319-3",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=UA-83257319-3" async></script></div></body></html>